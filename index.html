<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Cloudster by emilsoman</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Cloudster</h1>
        <h2>The fastest way to provision your AWS stack</h2>
        <a href="https://github.com/emilsoman/cloudster" class="button"><small>View project on</small>GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1>Cloudster</h1>

<h3>The fastest way to provision your AWS stack !</h3>

<p><a href="https://rubygems.org/gems/cloudster"><img src="https://badge.fury.io/rb/cloudster.png" alt="Gem Version"></a>
<a href="https://travis-ci.org/emilsoman/cloudster"><img src="https://travis-ci.org/emilsoman/cloudster.png" alt="Build Status"></a>
<a href="https://coveralls.io/r/emilsoman/cloudster"><img src="https://coveralls.io/repos/emilsoman/cloudster/badge.png?branch=master" alt="Coverage Status"></a>
<a href="https://codeclimate.com/github/emilsoman/cloudster"><img src="https://codeclimate.com/github/emilsoman/cloudster.png" alt="Code Climate"></a>
<a href="https://gemnasium.com/emilsoman/cloudster"><img src="https://gemnasium.com/emilsoman/cloudster.png" alt="Dependency Status"></a>
<a href="http://stillmaintained.com/emilsoman/cloudster"><img src="http://stillmaintained.com/emilsoman/cloudster.png" alt="still maintained"></a></p>

<p>Cloudster is a Ruby gem that was born to cut the learning curve involved in writing your own CloudFormation templates.
If you don't know what a CloudFormation template is, but know about the AWS Cloud,
you can still use cloudster to provision your stack like a boss.
Checkout the Usage section.</p>

<h2>Installation</h2>

<pre><code>gem install cloudster
</code></pre>

<h2>Usage</h2>

<p>Create AWS resources :</p>

<div class="highlight"><pre><span class="n">app_server</span> <span class="o">=</span> <span class="ss">Cloudster</span><span class="p">:</span><span class="ss">:Ec2</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s1">'AppServer'</span><span class="p">,</span>
  <span class="ss">:key_name</span> <span class="o">=&gt;</span> <span class="s1">'mykey'</span><span class="p">,</span>
  <span class="ss">:image_id</span> <span class="o">=&gt;</span> <span class="s1">'ami_image_id'</span><span class="p">,</span>
  <span class="ss">:instance_type</span> <span class="o">=&gt;</span> <span class="s1">'t1.micro'</span><span class="p">,</span>
  <span class="ss">:security_groups</span> <span class="o">=&gt;</span> <span class="o">[</span><span class="s2">"DevSecurityGroup"</span><span class="o">]</span>
<span class="p">)</span>

<span class="c1">#Well I wanted to add chef clients to my app servers , so ..</span>
<span class="n">chef_client</span> <span class="o">=</span> <span class="ss">Cloudster</span><span class="p">:</span><span class="ss">:ChefClient</span><span class="o">.</span><span class="n">new</span><span class="p">(</span>
 <span class="ss">:validation_key</span> <span class="o">=&gt;</span> <span class="s1">'asd3e33880889098asdnmnnasd8900890a8sdmasdjna9s880808asdnmnasd90-a'</span><span class="p">,</span>
 <span class="ss">:server_url</span> <span class="o">=&gt;</span> <span class="s1">'http://10.50.60.70:4000'</span><span class="p">,</span>
 <span class="ss">:node_name</span> <span class="o">=&gt;</span> <span class="s1">'project.environment.appserver_1'</span><span class="p">,</span>
 <span class="ss">:interval</span> <span class="o">=&gt;</span> <span class="mi">1800</span>
<span class="p">)</span>
<span class="n">chef_client</span><span class="o">.</span><span class="n">add_to</span><span class="p">(</span><span class="n">app_server</span><span class="p">)</span>

<span class="n">elastic_ip</span> <span class="o">=</span> <span class="ss">Cloudster</span><span class="p">:</span><span class="ss">:ElasticIp</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s1">'AppServerElasticIp'</span><span class="p">)</span>
<span class="n">elastic_ip</span><span class="o">.</span><span class="n">add_to</span><span class="p">(</span><span class="n">app_server</span><span class="p">)</span>

<span class="n">app_server_2</span> <span class="o">=</span> <span class="ss">Cloudster</span><span class="p">:</span><span class="ss">:Ec2</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s1">'AppServer2'</span><span class="p">,</span>
  <span class="ss">:key_name</span> <span class="o">=&gt;</span> <span class="s1">'mykey'</span><span class="p">,</span>
  <span class="ss">:image_id</span> <span class="o">=&gt;</span> <span class="s1">'ami_image_id'</span>
<span class="p">)</span>

<span class="c1">#Add your app servers to the ElasticLoadBalancer</span>
<span class="n">load_balancer</span> <span class="o">=</span> <span class="ss">Cloudster</span><span class="p">:</span><span class="ss">:Elb</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s1">'LoadBalancer'</span><span class="p">,</span>
  <span class="ss">:instance_names</span> <span class="o">=&gt;</span> <span class="o">[</span><span class="s1">'AppServer'</span><span class="p">,</span> <span class="s1">'AppServer2'</span><span class="o">]</span><span class="p">,</span>
  <span class="ss">:listeners</span> <span class="o">=&gt;</span> <span class="o">[</span><span class="p">{</span><span class="ss">:port</span> <span class="o">=&gt;</span> <span class="mi">80</span><span class="p">,</span> <span class="ss">:instance_port</span> <span class="o">=&gt;</span> <span class="mi">8080</span><span class="p">,</span> <span class="ss">:protocol</span> <span class="o">=&gt;</span> <span class="s1">'HTTP'</span><span class="p">}</span><span class="o">]</span>
<span class="p">)</span>

<span class="n">database</span> <span class="o">=</span> <span class="ss">Cloudster</span><span class="p">:</span><span class="ss">:Rds</span><span class="o">.</span><span class="n">new</span><span class="p">(</span>
  <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s1">'MySqlDB'</span><span class="p">,</span>
  <span class="ss">:instance_class</span> <span class="o">=&gt;</span> <span class="s1">'db.t1.micro'</span><span class="p">,</span>
  <span class="ss">:storage_class</span> <span class="o">=&gt;</span> <span class="s1">'100'</span><span class="p">,</span>
  <span class="ss">:username</span> <span class="o">=&gt;</span> <span class="s1">'admin'</span><span class="p">,</span>
  <span class="ss">:password</span> <span class="o">=&gt;</span> <span class="s1">'admin123'</span><span class="p">,</span>
  <span class="ss">:engine</span> <span class="o">=&gt;</span> <span class="s1">'MySQL'</span><span class="p">,</span>
  <span class="ss">:multi_az</span> <span class="o">=&gt;</span> <span class="kp">true</span>
<span class="p">)</span>

<span class="n">storage</span> <span class="o">=</span> <span class="ss">Cloudster</span><span class="p">:</span><span class="ss">:S3</span><span class="o">.</span><span class="n">new</span><span class="p">(</span>
  <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s1">'MyBucket'</span>
<span class="p">)</span>

<span class="n">cloud_front</span> <span class="o">=</span> <span class="ss">Cloudster</span><span class="p">:</span><span class="ss">:CloudFront</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s1">'CloudFrontResource'</span><span class="p">)</span>
<span class="n">cloud_front</span><span class="o">.</span><span class="n">add_to</span> <span class="n">storage</span>

<span class="n">elasticache</span> <span class="o">=</span> <span class="ss">Cloudster</span><span class="p">:</span><span class="ss">:ElastiCache</span><span class="o">.</span><span class="n">new</span><span class="p">(</span>
  <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s1">'CacheResource'</span><span class="p">,</span>
  <span class="ss">:node_type</span> <span class="o">=&gt;</span> <span class="s1">'cache.t1.micro'</span><span class="p">,</span>
  <span class="ss">:cache_security_group_names</span> <span class="o">=&gt;</span> <span class="o">[</span><span class="s1">'default'</span><span class="o">]</span><span class="p">,</span>
  <span class="ss">:engine</span> <span class="o">=&gt;</span> <span class="s1">'memcached'</span><span class="p">,</span>
  <span class="ss">:node_count</span> <span class="o">=&gt;</span> <span class="mi">3</span>
<span class="p">)</span>
</pre></div>

<p>Create an instance for your cloud :</p>

<div class="highlight"><pre><span class="n">cloud</span> <span class="o">=</span> <span class="ss">Cloudster</span><span class="p">:</span><span class="ss">:Cloud</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="ss">:access_key_id</span> <span class="o">=&gt;</span> <span class="s1">'accesskeyid'</span><span class="p">,</span> <span class="ss">:secret_access_key</span> <span class="o">=&gt;</span> <span class="s1">'topsecretaccesskey'</span><span class="p">,</span> <span class="ss">:region</span> <span class="o">=&gt;</span> <span class="s1">'us-west-1'</span><span class="p">)</span>
</pre></div>

<p>Provision the stack :</p>

<div class="highlight"><pre><span class="n">cloud</span><span class="o">.</span><span class="n">provision</span><span class="p">(</span><span class="ss">:resources</span> <span class="o">=&gt;</span> <span class="o">[</span><span class="n">app_server</span><span class="p">,</span> <span class="n">app_server_2</span><span class="p">,</span> <span class="n">load_balancer</span><span class="p">,</span> <span class="n">database</span><span class="o">]</span><span class="p">,</span> <span class="ss">:stack_name</span> <span class="o">=&gt;</span> <span class="s1">'TestStack'</span><span class="p">,</span> <span class="ss">:description</span> <span class="o">=&gt;</span> <span class="s1">'Description of the stack'</span><span class="p">)</span>
</pre></div>

<p>Get the CloudFormation template for the stack :</p>

<div class="highlight"><pre><span class="n">cloud</span><span class="o">.</span><span class="n">template</span><span class="p">(</span><span class="ss">:resources</span> <span class="o">=&gt;</span> <span class="o">[</span><span class="n">app_server</span><span class="p">,</span> <span class="n">app_server_2</span><span class="p">,</span> <span class="n">load_balancer</span><span class="p">,</span> <span class="n">database</span><span class="p">,</span> <span class="n">storage</span><span class="p">,</span> <span class="n">elasticache</span><span class="o">]</span><span class="p">,</span> <span class="ss">:description</span> <span class="o">=&gt;</span> <span class="s1">'Description of the stack'</span><span class="p">)</span>
</pre></div>

<p>Get the CloudFormation template for a resource as a Ruby Hash :</p>

<div class="highlight"><pre><span class="n">app_server</span><span class="o">.</span><span class="n">template</span>
</pre></div>

<p>Cloudster can also interact with the provisioned AWS Cloud :</p>

<ul>
<li>Update the stack :</li>
</ul><div class="highlight"><pre><span class="n">cloud</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="ss">:resources</span> <span class="o">=&gt;</span> <span class="o">[</span><span class="n">app_server</span><span class="p">,</span> <span class="n">app_server_2</span><span class="o">]</span><span class="p">,</span> <span class="ss">:stack_name</span> <span class="o">=&gt;</span> <span class="s1">'TestStack'</span><span class="p">,</span> <span class="ss">:description</span> <span class="o">=&gt;</span> <span class="s1">'Description of the stack'</span><span class="p">)</span>
</pre></div>

<ul>
<li>Delete the stack and it's attached resources :</li>
</ul><div class="highlight"><pre><span class="n">cloud</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="ss">:stack_name</span> <span class="o">=&gt;</span> <span class="s1">'TestStack'</span><span class="p">)</span>
</pre></div>

<ul>
<li>Get the output attributes of each resource in the stack :</li>
</ul><div class="highlight"><pre><span class="n">cloud</span><span class="o">.</span><span class="n">outputs</span><span class="p">(</span><span class="ss">:stack_name</span> <span class="o">=&gt;</span> <span class="s1">'TestStack'</span><span class="p">)</span>
</pre></div>

<ul>
<li>Describe the events of a stack :</li>
</ul><div class="highlight"><pre><span class="n">cloud</span><span class="o">.</span><span class="n">events</span><span class="p">(</span><span class="ss">:stack_name</span> <span class="o">=&gt;</span> <span class="s1">'TestStack'</span><span class="p">)</span>
</pre></div>

<ul>
<li>Describe the attributes of a stack :</li>
</ul><div class="highlight"><pre><span class="n">cloud</span><span class="o">.</span><span class="n">describe</span><span class="p">(</span><span class="ss">:stack_name</span> <span class="o">=&gt;</span> <span class="s1">'TestStack'</span><span class="p">)</span>
</pre></div>

<ul>
<li>Describe all resources of a stack :</li>
</ul><div class="highlight"><pre><span class="n">cloud</span><span class="o">.</span><span class="n">resources</span><span class="p">(</span><span class="ss">:stack_name</span> <span class="o">=&gt;</span> <span class="s1">'TestStack'</span><span class="p">)</span>
</pre></div>

<ul>
<li>Get the status of a stack :</li>
</ul><div class="highlight"><pre><span class="n">cloud</span><span class="o">.</span><span class="n">status</span><span class="p">(</span><span class="ss">:stack_name</span> <span class="o">=&gt;</span> <span class="s1">'TestStack'</span><span class="p">)</span>
</pre></div>

<ul>
<li>Describe the RDS endpoints in a stack :</li>
</ul><div class="highlight"><pre><span class="n">cloud</span><span class="o">.</span><span class="n">get_database_endpoints</span><span class="p">(</span><span class="ss">:stack_name</span> <span class="o">=&gt;</span> <span class="s1">'TestStack'</span><span class="p">)</span>
</pre></div>

<ul>
<li>Get the details of all EC2 intances in a stack :</li>
</ul><div class="highlight"><pre><span class="n">cloud</span><span class="o">.</span><span class="n">get_ec2_details</span><span class="p">(</span><span class="ss">:stack_name</span> <span class="o">=&gt;</span> <span class="s1">'TestStack'</span><span class="p">)</span>
</pre></div>

<ul>
<li>Get the details of all RDS intances in a stack :</li>
</ul><div class="highlight"><pre><span class="n">cloud</span><span class="o">.</span><span class="n">get_rds_details</span><span class="p">(</span><span class="ss">:stack_name</span> <span class="o">=&gt;</span> <span class="s1">'TestStack'</span><span class="p">)</span>
</pre></div>

<ul>
<li>Get the details of all ELB intances in a stack :</li>
</ul><div class="highlight"><pre><span class="n">cloud</span><span class="o">.</span><span class="n">get_elb_details</span><span class="p">(</span><span class="ss">:stack_name</span> <span class="o">=&gt;</span> <span class="s1">'TestStack'</span><span class="p">)</span>
</pre></div>

<ul>
<li>Get details of all keypairs created in the AWS account :</li>
</ul><div class="highlight"><pre><span class="n">cloud</span><span class="o">.</span><span class="n">get_key_pairs</span>
</pre></div>

<ul>
<li>Get details of all Security Groups created in the AWS account :</li>
</ul><div class="highlight"><pre><span class="n">cloud</span><span class="o">.</span><span class="n">get_security_groups</span>
</pre></div>

<h3>More coming soon ..</h3>

<p>I'm trying to add every AWS resource to cloudster, one by one. If you don't find what you need,
let me know and I'll try to get the feature included ASAP, or you can submit a pull request with the feature -
that would be awesome!</p>

<hr><h1>Contribute</h1>

<p>Got some love for Cloudster? Sweet!</p>

<h2>Found a bug?</h2>

<p>Log the bug in the <a href="https://github.com/emilsoman/cloudster/issues">issue tracker</a>. Be sure to include all relevant information, like
the versions of Cloudster and Ruby you're using. A <a href="http://gist.github.com/">gist</a>
of the code that caused the issue as well as any error messages are also very
helpful.</p>

<h2>Need help?</h2>

<p>You can use the <a href="https://github.com/emilsoman/cloudster/issues">Issues</a> page to ask a new question for now. This is how you do it:
1. Click on New Issue.
2. Type in your question and submit.</p>

<h2>Have a patch?</h2>

<p>Bugs and feature requests that include patches are much more likely to
get attention. Here are some guidelines that will help ensure your patch
can be applied as quickly as possible:</p>

<ol>
<li><p><strong>Use <a href="http://git-scm.com">Git</a> and <a href="http://github.com">GitHub</a>:</strong>
The easiest way to get setup is to fork the
<a href="http://github.com/emilsoman/cloudster/">cloudster repo</a>.</p></li>
<li><p><strong>Write unit tests:</strong> If you add or modify functionality, it must
include unit tests. I use RSpec to test cloudster. If you are not an
RSpec expert, if you let me know, I can help you write the specs.</p></li>
<li><p><strong>Update the <code>README</code>:</strong> If the patch adds or modifies a major feature,
modify the <code>README.md</code> file to reflect that. Again if you're not an
expert with Markdown syntax, it's really easy to learn. Check out <a href="http://prose.io/">Prose.io</a> to
try it out.</p></li>
<li><p><strong>Push it:</strong> Once you're ready, push your changes to a topic branch
and add a note to the ticket with the URL to your branch. Or, say
something like, "you can find the patch on johndoe/foobranch". I also
gladly accept Github <a href="http://help.github.com/pull-requests/">pull requests</a>.</p></li>
</ol><p><strong>NOTE:</strong> <em>I will take in whatever I can get.</em> If you prefer to
attach diffs in comments on issues, that's fine; but do know
that <em>someone</em> will need to take the diff through the process described
above and this can hold things up considerably.</p>

<h2>License</h2>

<p>MIT</p>

<p><em>Free Software, Forever . YEAH !</em></p>

<h2>Thanks</h2>

<p>To <a href="https://github.com/fog/fog">Fog</a> for making AWS APIs simple<br>
To Sinatra README for having a nice 'Contribute' section which I'm using(with minor changes) for Cloudster.</p>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/emilsoman/cloudster/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/emilsoman/cloudster/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/emilsoman/cloudster"></a> is maintained by <a href="https://github.com/emilsoman">emilsoman</a>.</p>

          <p>This page was generated by <a href="pages.github.com">GitHub Pages</a> using the Architect theme by <a href="http://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

            <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-36099649-3");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>